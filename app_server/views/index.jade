extends layout

block content
  //- Hero Section
  .row.hero-banner.align-items-center
    //- Hero Text (Full Width, Centered)
    .col-12.text-center
      h1.display-4.font-weight-bold Your Next Big Break Awaits
      p.lead.my-4
        | Discover verified auditions, connect with casting directors, and showcase your talent 
        | to the film industry—all in one platform. No more missed opportunities.
      a.btn.btn-primary.btn-lg.px-5.mr-3(href='/locations') Find Auditions
      a.btn.btn-outline-primary.btn-lg.px-5(href='/register') Join Now
  
  //- WebGL Canvas Row (Full Width, Below Hero)
  .row.mb-5
    .col-12
      .hero-canvas-container
        canvas#hero-canvas-local

  //- Value Proposition Section
  .row.mt-5.text-center
    .col-12
      h2.mb-4 Why TFI-24?
      hr.w-25.mb-5
  
  .row.mb-5
    .col-12.col-md-4.mb-4
      .card.craft-card.h-100
        .card-body.text-center
          i.fas.fa-calendar-check.fa-3x.text-primary.mb-3
          h5.card-title Never Miss an Audition
          p.card-text Get real-time notifications about auditions matching your skills and location. Stay updated 24/7.
    
    .col-12.col-md-4.mb-4
      .card.craft-card.h-100
        .card-body.text-center
          i.fas.fa-shield-alt.fa-3x.text-primary.mb-3
          h5.card-title Verified & Safe
          p.card-text All casting calls are verified. No fake auditions, no scams—just genuine opportunities.
    
    .col-12.col-md-4.mb-4
      .card.craft-card.h-100
        .card-body.text-center
          i.fas.fa-video.fa-3x.text-primary.mb-3
          h5.card-title Digital Portfolio
          p.card-text Create your profile, upload showreels, and let casting directors discover you.

  //- 24 Crafts Section (Roles in Film Industry)
  .row.mt-5
    .col-12
      h2.text-center.mb-4 Explore Opportunities Across 24 Film Industry Crafts
    
     .p  name: 'Actor/Actress',  desc: 'Bring characters to life on screen'
      .p  name: 'Voice Artist',  desc: 'Provide dubbing and voice-over work'
      .p  name: 'Dancer/Choreographer',  desc: 'Create and perform dance sequences'
      .p  name: 'Model',  desc: 'Work in photoshoots and promotional content'
      .p  name: 'Musician',  desc: 'Perform in films and albums'
      .p  name: 'Playback Singer',  desc: 'Sing songs for movies'
      .p  name: 'Stunt Performer',  desc: 'Execute action sequences safely'
      .p  name: 'Child Artist',  desc: 'Perform roles for young characters'
      .p  name: 'Extra/Junior Artist',  desc: 'Appear in background and crowd scenes'
      .p  name: 'Casting Director',  desc: 'Find the perfect talent for roles'
      .p  name: 'Director',  desc: 'Lead the creative vision of projects'
      .p  name: 'Producer',  desc: 'Finance and manage productions'
      .p  name: 'Screenplay Writer',  desc: 'Write compelling scripts'
      .p  name: 'Dialogue Writer',  desc: 'Craft memorable dialogues'
      .p  name: 'Cinematographer',  desc: 'Handle camera and visual storytelling'
      .p  name: 'Editor',  desc: 'Shape the final cut of productions'
      .p  name: 'Music Director',  desc: 'Compose background scores and songs'
      .p  name: 'Costume Designer',  desc: 'Design character wardrobes'
      .p  name: 'Makeup Artist',  desc: 'Transform actors for roles'
      .p  name: 'Art Director',  desc: 'Design sets and visual environments'
      .p  name: 'VFX Artist',  desc: 'Create visual effects and CGI'
      .p  name: 'Sound Engineer',  desc: 'Record and mix audio'
      .p  name: 'Production Manager',  desc: 'Coordinate production logistics'
      .p  name: 'Publicist',  desc: 'Promote films and manage PR'

  .row.mt-5
    .col-12
      h2.text-center.mb-4 Find Your Role in the Film Industry
      p.text-center.text-muted.mb-5 TFI-24 connects talent across all 24 crafts of filmmaking
  
  .row
    each craft in crafts
      .col-12.col-md-6.col-lg-4.col-xl-3.mb-4
        .card.craft-card
          .card-body.text-center
            i.fas(class=craft.icon).fa-2x.text-primary.mb-3
            h5.card-title= craft.name
            p.card-text.text-muted.small= craft.desc

  //- Call to Action
  .row.mt-5.mb-4
    .col-12.text-center
      h3.mb-4 Ready to Start Your Journey?
      p.lead.mb-4 Join TFI-24 today and connect with opportunities that match your talent
      a.btn.btn-primary.btn-lg.px-5(href='/register') Create Your Profile

block append scripts
  //- This script (with the polling) is already working, no changes needed.
  script.
    function initLocalPosters() {
      const canvas = document.getElementById('hero-canvas-local');
      const OGL = window.OGL || window.ogl;
      if (canvas && typeof initFlyingPosters === 'function') {
        const posterImages = [
          '/img1.jpg', 
          '/img2.jpg', 
          '/img3.jpg',
          '/img1.jpg'
        ];
        try {
          initFlyingPosters(canvas, posterImages);
          console.log('✓ Flying posters animation initialized on index page');
        } catch (e) {
          console.warn('Flying posters animation error:', e);
        }
      }
    }
    
    function checkOGLLoaded() {
      const OGL = window.OGL || window.ogl;
      if (OGL) {
        console.log('OGL library found. Initializing...');
        initLocalPosters();
      } else {
        console.warn('Waiting for OGL library...');
        setTimeout(checkOGLLoaded, 100);
      }
    }
    
    document.addEventListener('DOMContentLoaded', checkOGLLoaded);